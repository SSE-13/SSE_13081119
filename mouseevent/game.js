var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var humanContainer = new render.DisplayObjectContainer();
var head = new render.Bitmap("head.png", -40, -50, 1, 1, 0);
head.setRange(0, 0, 74, 156);
var trunk = new render.Bitmap("trunk.png", 0, 0, 1, 1, 0);
var righthand = new render.Bitmap("righthand.png", 15, 10, 1, 1, 0);
var lefthand = new render.Bitmap("lefthand.png", 15, 10, 1, 1, 0);
var rightleg = new render.Bitmap("rightleg.png", -5, 70, 1, 1, 0);
rightleg.setRange(35, 0, 67, 61);
var leftleg = new render.Bitmap("leftleg.png", -5, 70, 1, 1, 0);
leftleg.setRange(35, 0, 67, 61);
humanContainer.addChild(head);
humanContainer.addChild(trunk);
humanContainer.addChild(righthand);
humanContainer.addChild(lefthand);
humanContainer.addChild(rightleg);
humanContainer.addChild(leftleg);
var renderCore = new render.RenderCore();
renderCore.start(humanContainer, ["lefthand.png", "leftleg.png", "trunk.png", "head.png", "rightleg.png", "righthand.png"]);
var HumanBody = (function (_super) {
    __extends(HumanBody, _super);
    function HumanBody() {
        _super.apply(this, arguments);
        this.rotatespeed = 2;
        this.rotatetemp = this.rotatespeed;
        this.vx = 5;
        this.vxtemp = this.vx;
        this.vy = 5;
        this.vytemp = this.vy;
        this.HandRotate = 2;
        this.LegRotate = 2;
        this.stand = false;
    }
    HumanBody.prototype.onTicker = function (duringTime) {
        this.x += this.vx * duringTime;
        this.y += this.vy * duringTime;
        this.rotation += this.rotatespeed;
        if ((lefthand.rotation + this.HandRotate > 10 && this.HandRotate > 0) || (lefthand.rotation + this.HandRotate < -10 && this.HandRotate < 0)) {
            this.HandRotate = -this.HandRotate;
        }
        if ((leftleg.rotation + this.LegRotate > 10 && this.LegRotate > 0) || (leftleg.rotation + this.LegRotate < -10 && this.LegRotate < 0)) {
            this.LegRotate = -this.LegRotate;
        }
        lefthand.rotation += this.HandRotate * duringTime;
        righthand.rotation += -this.HandRotate * duringTime;
        leftleg.rotation += this.LegRotate * duringTime;
        rightleg.rotation += -this.LegRotate * duringTime;
    };
    return HumanBody;
}(Body));
var ticker = new Ticker();
var body = new HumanBody(humanContainer);
ticker.start([body]);
var eventCore = new events.EventCore();
eventCore.init();
var headHitTest = function (localPoint, displayObject) {
    //alert (`点击位置为${localPoint.x},${localPoint.y}`);
    console.log(localPoint.x, localPoint.y);
    if (localPoint.IsRange(head.range)) {
        return true;
    }
};
var legHitTest = function (localPoint, displayObject) {
    //alert (`点击位置为${localPoint.x},${localPoint.y}`);
    if (localPoint.IsRange(leftleg.range)) {
        return true;
    }
};
var headOnClick = function () {
    if (!body.stand) {
        body.rotatespeed = -body.rotatespeed;
    }
    else {
        body.rotatespeed = body.rotatetemp;
        body.vx = body.vxtemp;
        body.vy = body.vytemp;
        body.stand = false;
    }
    //alert("clicked!!");
    //修改 HumanBody 的速度，使其反向移动
};
var legOnClick = function () {
    body.rotatespeed = 0;
    body.vx = 0;
    body.vy = 0;
    body.stand = true;
};
eventCore.register(head, headHitTest, headOnClick);
eventCore.register(leftleg, legHitTest, legOnClick);
eventCore.register(rightleg, legHitTest, legOnClick);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImdhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxJQUFJLGNBQWMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0FBQ3pELElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUM1RCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzFCLElBQUksS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQzFELElBQUksU0FBUyxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3BFLElBQUksUUFBUSxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ2xFLElBQUksUUFBUSxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDbEUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQztBQUM5QixJQUFJLE9BQU8sR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFN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